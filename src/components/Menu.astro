---
const {design} = Astro.props;
import Buscador from "./Buscador.astro";
---

<header
	id="landing-header"
	>
    <div id={design} class="absolute py-4 px-10 flex items-center top-0 w-full justify-between z-40">
        <div class="flex flex-grow basis-0">
            <a href="/">
                <svg class="bg-principal-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z"/>
                </svg>
            </a>
        </div>
        <nav class="hidden xl:block sm:hidden">
            <ul
            class="flex text-sm font-generalsans-medium [&>li>a]:duration-500 [&>li>a]:text-current [&>li>a]:font-medium [&>li>a]:inline-block [&>li>a]:px-4 [&>li>a]:py-2"
            >
            <li><a class="index" href="/">Inicio</a></li>
            <li><a class="articles" href="/articulos">Artículos</a></li>
            </ul>
        </nav>
        
        <div class="flex flex-grow basis-0">
            <Buscador design="landing-page"/>
        </div>

        <div
            id="menu-backdrop"
            class={`
            absolute rounded
            translate-x-[var(--left)] translate-y-[var(--top)]
            left-0 top-0
            w-[var(--width)] h-[var(--height)]
            transition-all duration-500
            ease-in-out opacity-0 -z-10
            `}
        >
        </div>
    </div>
	</header>

<!--Script para que se mueva el contenedor en el menú-->
<script>
    const listItem = document.querySelectorAll("#landing-header li")
    const menuBackDrop = document.querySelector("#menu-backdrop") as HTMLElement
  
    listItem.forEach((item) => {
      item.addEventListener("mouseenter", () => {
        const { left, top, width, height } = item.getBoundingClientRect()
  
        menuBackDrop.style.setProperty("--left", `${left}px`)
        menuBackDrop.style.setProperty("--top", `${top}px`)
        menuBackDrop.style.setProperty("--width", `${width}px`)
        menuBackDrop.style.setProperty("--height", `${height}px`)
  
        menuBackDrop.style.opacity = "1"
        menuBackDrop.style.visibility = "visible"
      })
  
      item.addEventListener("mouseleave", () => {
        menuBackDrop.style.opacity = "0"
        menuBackDrop.style.visibility = "hidden"
      })
    })
</script>
     

<style>
    #articles{
        color:#222222;
        .articles{
            background-color: rgb(34, 34, 34, .1);
            --tw-backdrop-blur: blur(16px);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            border-radius: 0.25rem/* 4px */;
        }
        :is(.dark .articles){
            background-color: rgb(245, 245, 245, .25);
        }

        #menu-backdrop{
            background-color: rgb(34, 34, 34, .1);
        }
    }
    :is(.dark #articles){
        color:#F5F5F5;
        #menu-backdrop{
            background-color: rgb(245, 245, 245, .25);
        }
    }

    #index{
        color: #F5F5F5;
        .index{
            background-color: rgb(245, 245, 245, .25);
            --tw-backdrop-blur: blur(16px);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            border-radius: 0.25rem/* 4px */;
        }
        #menu-backdrop{
            background-color: rgb(245, 245, 245, .25);
        }
    } 
</style>