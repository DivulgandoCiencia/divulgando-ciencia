---
const { code, stdin=[], language='python' } = Astro.props;
const lang = language in ['python'] ? language : 'python'
const stdinjson = JSON.stringify({'stdin':stdin})
---
<div class={lang + "Console bg-background/80 backdrop-blur-sm rounded-2xl shadow-[0_0_10px_5px] shadow-[#000]/10 border-0 overflow-hidden my-5 mx-auto"}>
    <div class="bg-foreground/5 px-6 py-4 shadow-[0_0_20px_5px] shadow-[#000]/10 flex items-center justify-between text-sm">
        <div class="flex items-center justify-between rounded-lg border border-foreground/95 overflow-hidden">
            <button class="text-primary-foreground bg-foreground/95 px-4 py-2 codeButton font-bold">Código</button>
            <button class="hover:bg-foreground/10 px-4 py-2 consoleButton font-bold">Consola</button>
        </div>
        <button class="runButton bg-foreground/95 hover:bg-foreground text-primary-foreground px-6 py-2 rounded-xl font-bold transition-all hover:scale-105 hover:shadow-xl">
            Ejecutar
        </button>
    </div>
    <div class="p-6 flex-1">
        <textarea class="code w-full h-96 bg-foreground/5 text-foreground font-mono text-sm p-4 rounded-xl afocus:border-foreground/30 afocus:border focus:outline-none resize-none" placeholder="# Escribe tu código Python aquí&#10;print('¡Hola, mundo!')" disabled data-stdin={stdinjson}>
{code || "# Escribe tu código Python aquí&#10;print('¡Hola, mundo!')"}
        </textarea>
        <div class="console hidden w-full bg-foreground/5 text-foreground font-mono text-sm p-4 rounded-xl h-96 overflow-y-auto space-y-[0px] whitespace-pre-wrap wrap-break-words"></div>
    </div>
</div>
<div class="hidden text-foreground/50"></div>